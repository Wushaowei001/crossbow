# Copyright (c) 2013 Radek Micek

OCAMLFLAGS = -thread

OCAML_LINK_FLAGS += -cc g++

OCAMLPACKS[] =
    threads
    batteries
    tptp
    zarith
    oclock
    oUnit

if $(defined coverage)
    OCAMLPACKS[] += bisect
    export OCAMLPACKS

OCAMLINCLUDES += ../src

OCAML_LIBS[] +=
    ../src/libcrossbow

FILES[] =
    eunit
    test_earray
    test_elist
    test_algo
    test_equiv
    test_timer
    test_symb
    test_term
    test_lit
    test_clause
    test_splitting
    test_tptp_prob
    test_sorts
    test_assignment
    test_sinterp
    ftest_anysat
    test_minisat
    test_cmsat
    test_bliss
    test_symred
    test_lnh
    test_model
    test_sat_inst
    ftest_anysat_inst
    test_minisat_inst
    test_cmsat_inst
    test

OCamlProgram(test_runner, $(FILES))

test: test_runner$(EXE)

clean:
    $(CLEAN)
    rm -f test_runner$(EXE)
